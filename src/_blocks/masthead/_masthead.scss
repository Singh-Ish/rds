//
// Main Masthead Styles
// -----------------------------

$masthead_height: 72px;

body {
	margin-top: 75px;

	@include media('<=s') {
		margin-top: 148px;
	}
}

#b-masthead {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;

	// Visual
	height: 75px;
	border-top: 2px solid $red;
	border-bottom: 1px solid $grey-kenobi;
	background-color: white;
	z-index: 10000;
	transition: 0.2s;
}

// TODO replace in JS with u-hide that exists in core utils
.hidden {
	opacity: 0;
	visibility: hidden;
}

//
// Masthead Flex Layout
// -----------------------------

.b-masthead,
.masthead__brand,
.masthead__actions,
.masthead__nav {
	height: $masthead_height;
	display: flex;
	align-items: center;
}

.masthead__brand,
.masthead__nav {
	justify-content: flex-start;
}

.masthead__actions {
	justify-content: flex-end;
	margin-left: auto;
}

//
// Main Masthead Modifiers
// -----------------------------

.b-masthead--shadow {
	box-shadow: 0 10px 11px -7px $grey-yoda;
	margin-bottom: 6px;
}

//
// Masthead Branding
// -----------------------------

.masthead__brand {
	white-space: nowrap;
	padding: 0 15px;

	@include media('>s') {
		padding: 0 15px;
		border-right: 1px solid $grey-yoda;
	}

	h1,
	h2 {
		margin: 0;
		padding: 0;

		span {
			display: table;
		}
	}

	a {
		display: flex;
		align-items: center;
		font-size: 18px;

		&:hover {
			color: $red;
		}

		@include media('>s') {
			font-size: 20px;
		}
	}

	svg {
		width: 40px;
		height: 40px;
		margin-right: 3px;
	}
}

//
// Masthead Nav Styles
// -----------------------------

.masthead__nav {
	width: 100%;
}

.masthead__nav > ul,
.masthead__actions > ul {
	display: flex;
	align-items: center;
	list-style: none;
	margin: 0;

	> li,
	button {
		height: $masthead_height;
		line-height: $masthead_height;
	}

	a,
	button {
		display: flex;
		align-items: center;
		font-size: 0.875rem;
		font-weight: 500;
		white-space: nowrap;
		padding-left: 15px;
		padding-right: 15px;

		&:hover {
			color: $red;
		}
	}

	.c-menupopup a,
	.c-menupopup button {
		padding-right: 25px;

		&:after {
			right: 14px;
		}
	}

	.u-active a {
		color: $red;
	}
}

//
// Masthead Second Line Nav
// -----------------------------

// @include media("<=s") {
	.masthead__second-level {
		position: absolute;
		top: $masthead_height + 1px;
		left: 0;
		background-color: white;
		border-bottom: 1px solid $grey-yoda;
		overflow-x: scroll;
		overflow-y: hidden;
		-webkit-overflow-scrolling: touch;
		
		&::-webkit-scrollbar {
			display: none;
		}

		ul.menupopup__menu {
			position: fixed;
		}
	}
// }

//
// Masthead Action Button Styles
// -----------------------------

.masthead__actions ul li {
	border-left: 1px solid $grey-yoda;

	a:hover {
		background-color: $grey-kenobi;
		color: black;
	}
}

.masthead__cta:not(.masthead__cta--white) {
	background-color: $red;
	border-left: transparent;
	border-bottom: 1px solid $red;

	a {
		color: white;

		svg {
			fill: white;
		}
	}
}

//
// Heavy-handed Overflow detection
// -----------------------------

.masthead__overflow-detected.masthead__nav::before {
	content: 'YOUR MENU IS TOO WIDE! PLEASE SHORTEN IT OR USE A VERTICAL SIDE NAV MENU. THANK YOU!';
	color: white;
}

.masthead__overflow-detected.masthead__nav {
	background-color: $red !important;
	width: 3000px;
	color: white;
	padding: 0 40px;
	ul {
		display: none;
	}
}